# Exemplo de configuração raiz do AL Tool
# Copie para .env e ajuste caminhos conforme a sua máquina.

# Porta única onde API + UI serão expostas localmente
APP_PORT=3000
PORT=3000
NODE_ENV=production

# URL acessível pela camada Electron/desktop
APP_BASE_URL=http://localhost:3000

# Diretórios usados pela API e workers (faça TODOS apontarem para o mesmo local)
APP_DATA_DIR=/absolute/path/to/al-tool/data
DATA_DIR=/absolute/path/to/al-tool/data
DB_PATH=/absolute/path/to/al-tool/data/db/dev.sqlite3
UPLOAD_DIR=/absolute/path/to/al-tool/data/uploads
EXPORT_DIR=/absolute/path/to/al-tool/data/exports
LOGS_DIR=apps/api/logs

# PRAGMAs opcionais do SQLite (mantém defaults performáticos)
SQLITE_JOURNAL_MODE=WAL
SQLITE_SYNCHRONOUS=NORMAL
SQLITE_CACHE_SIZE=-4000
SQLITE_TEMP_STORE=MEMORY
SQLITE_BUSY_TIMEOUT=5000
SQLITE_FOREIGN_KEYS=ON

# PRAGMAs opcionais da ingestão (sobrescrevem os de cima; defaults variam por NODE_ENV)
INGEST_PRAGMA_JOURNAL_MODE=WAL
INGEST_PRAGMA_SYNCHRONOUS=NORMAL
INGEST_PRAGMA_TEMP_STORE=MEMORY
INGEST_PRAGMA_CACHE_SIZE=-200000
INGEST_PRAGMA_BUSY_TIMEOUT=8000
INGEST_PRAGMA_FOREIGN_KEYS=ON

# Ajustes da ingestão (linhas amostradas e tamanho dos lotes)
INGEST_SAMPLE_ROWS=1000
INGEST_BATCH_SIZE=200

# Intervalo em segundos para os workers de ingest/conciliação
WORKER_POLL_SECONDS=5

# Paginacao das rotas de listagem
API_DEFAULT_PAGE_SIZE=20
API_MAX_PAGE_SIZE=100

# Host autorizado para chamadas HTTP do frontend
CORS_ORIGIN=*

# Caminho absoluto para o Python usado pelo conversion_worker
PYTHON_EXECUTABLE=/usr/bin/python3

# ----- Licensing / Activation -----
# URL base for the cloud licensing service that the app will call for activation
# Example: https://licenses.example.com
LICENSE_API_BASE_URL=
LICENSE_API_BASE_URL=
LICENSE_API_SECRET=
# Legacy/alternate name accepted by the code (kept for compatibility)
LICENSE_SERVER_BASE_URL=

# Optional: override app version used when activating (falls back to package.json)
APP_VERSION=
